{% extends 'base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/about_us.css' %}">
{% endblock %}
{% block content %}
 
    <!-- Hero section -->
    <section class="hero">
        <div class="container">
            <h1>Gifts that Speak <span style="color: #ff6b9b;"></span></h1>
            <p>Discover the perfect way to express your feelings with our curated collection of thoughtful gifts and stunning floral arrangements.</p>
            
        </div>
    </section>

    <!-- Our Story section -->
    <section id="our-story" class="our-story">
        <div class="container">
            <h2>Our Story</h2>
            <div class="row"> 
            <div class="story-content">
                <div class="story-text">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit illum, odio rem obcaecati, facilis autem at ipsa animi quos possimus velit cum natus vitae fuga quam nihil, voluptatibus accusantium necessitatibus.</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, a debitis! Porro saepe obcaecati quis! Ullam, quae adipisci quisquam delectus corrupti quasi quam ipsum deserunt accusamus. Ipsam voluptate exercitationem in.</p>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Velit dicta libero aliquid unde harum vitae, aut ab, rerum, incidunt sunt dolor accusamus quia neque ipsam ex pariatur ea sint laboriosam?</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum animi illo voluptas perspiciatis vitae accusantium, ipsam, nihil sequi eum necessitatibus magni magnam quibusdam doloribus similique modi asperiores debitis neque culpa!</p>
                </div>
       
                <div class="story-image ">
                    <div id="map" style="height: 600px;width: 600px;" class="col-12 col-lg-6"></div>
                    <script>
          
                        const map = L.map('map').setView([21.958828, 96.089104], 12); 
                        
                        // teaflet provider(base maps)
                        let osm = L.tileLayer('https://tile.openstreetmap.de/{z}/{x}/{y}.png', {
                        maxZoom: 19,
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                        });
            
                        let googleStreets = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',{
                         maxZoom: 19,
                         subdomains:['mt0','mt1','mt2','mt3']
                        });
            
                        googleStreets.addTo(map);
            
                        let googlehybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',{
                         maxZoom: 20,
                        subdomains:['mt0','mt1','mt2','mt3']
                        });
            
                        
                        L.control.scale().addTo(map)
            
            
                        if(!navigator.geolocation){
                            console.log("Your broswer doesn't support geolocation feature")
                        }else {
                            navigator.geolocation.getCurrentPosition(success,error)
                        }
            
                        let marker, circle, zoomed;
                        let popup;
                        let baseMaps,overlayMaps,layerControl;
                        let mcfeaturegroup;
                        function success(position){
                            
                           
                            const lat = position.coords.latitude;
                            const lon = position.coords.longitude;
                            const accuracy = position.coords.accuracy;
                            
            
                            if(marker){
                                map.removeLayer(marker);
                                
                            }
                            if(circle){
                                map.removeLayer(circle);
                            }
            
                            marker = L.marker([lat,lon], {alt: 'userlocation'}).addTo(map);
                            popup = marker.bindPopup("<b>shop's location . </b>"+marker.getLatLng()).openPopup();
                            popup.addTo(map)
                            circle = L.circle([lat,lon], {radius: accuracy}).addTo(map);
            
                            // marker = L.marker([lat,lon], {alt: 'userlocation'}, {
                            //     title: "Cozy Gifts Shop",
                            // })
                            // .addTo(map)
                            // .bindPopup("<h1>Cozy Gifts Shop</h1> <p>Discover Blooming Moments, where every celebration becomes extraordinary! <br>Explore our wide range of personalized, handcrafted items—from custom cakes and stunning floral arrangements to unique fashion accessories and artisanal candles.</p> <img style='width:300px;height:300px;' src='./shop_image.jpg' /> ");
                            
            
                            // const zoom level
                            if(!zoomed){
                                zoomed = map.fitBounds(circle.getBounds());
                            }
                           
                            console.log("Your coordinate is : Lat: "+lat+" Long: "+lon+" accuracy: "+accuracy)
            
                             baseMaps = {
                            "OpenStreetMap": osm,
                            "Google Streets": googleStreets,
                            "Google Hybrid": googlehybrid
                    
                             };
            
                            overlayMaps = {
                            "User Marker": marker,
                            "Area Accuracy": circle
                             };
            
                         
                            layerControl = L.control.layers(baseMaps, overlayMaps, {collapsed: false}).addTo(map);
            
                            // basic routing control
                            // L.Routing.control({
                            // waypoints: [
                            //      L.latLng(lat,lon),
                            //      L.latLng(22.03501, 96.45683)
                            // ]
                            // }).addTo(map);
                        
                        }
            
                        function error(err) {
                            if(err.code === 1){
                                alert("Please allow geolocation access");
                            } else {
                                alert("Cannot get current location");
                            }
                        }
                  
                    </script>
                </div>
     
            </div>
        </div>
    </section>

    <!-- Why Choose Us section -->
    <section id="why-choose-us" class="why-choose-us">
        <div class="container">
            <h2>Why Choose Lovingly?</h2>
            <div class="features">
                <div class="feature">
                    <h3>Handcrafted with Care</h3>
                    <p>Each arrangement is thoughtfully designed and crafted by local artisan florists.</p>
                </div>
                <div class="feature">
                    <h3>Same-Day Delivery</h3>
                    <p>Need it now? We offer same-day delivery for orders placed before 2 PM local time.</p>
                </div>
                <div class="feature">
                    <h3>100% Satisfaction Guarantee</h3>
                    <p>Not completely satisfied? We'll make it right or refund your purchase.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials section -->
<section id="testimonials" class="testimonials">
    <div class="container">
        <h2>What Our Customers Say</h2>
        <div class="testimonial-grid">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"The attention to detail and personal touch made my gift extra special. Lovingly truly understands the art of gifting! I was blown away by the quality and presentation. It's clear that they put their heart into every arrangement."</p>
                </div>
                <div class="testimonial-author">
                    <img src="https://via.placeholder.com/70x70.png?text=SM" alt="Sarah M.">
                    <div class="author-info">
                        <span class="author-name">Sarah M.</span>
                        <span class="author-title">Happy Customer</span>
                        <div class="testimonial-rating">
                            ★★★★★
                        </div>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"Their recommendation engine helped me pick the perfect arrangement. It was exactly what I was looking for!"</p>
                </div>
                <div class="testimonial-author">
                    <img src="https://via.placeholder.com/70x70.png?text=MR" alt="Michael R.">
                    <div class="author-info">
                        <span class="author-name">Michael R.</span>
                        <span class="author-title">Repeat Customer</span>
                        <div class="testimonial-rating">
                            ★★★★★
                        </div>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"The quality of flowers and service is consistently outstanding. I appreciate how they keep me updated throughout the delivery process, ensuring my gift arrives perfectly."</p>
                </div>
                <div class="testimonial-author">
                    <img src="https://via.placeholder.com/70x70.png?text=ET" alt="Emily T.">
                    <div class="author-info">
                        <span class="author-name">Emily T.</span>
                        <span class="author-title">Loyal Customer</span>
                        <div class="testimonial-rating">
                            ★★★★★
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Newsletter section -->
    <section id="newsletter" class="newsletter">
        <div class="container">
            <h2>Join the Lovingly Family</h2>
            <p>Sign up for our newsletter and be the first to know about special offers, new collections, and gifting tips!</p>
            
        </div>
    </section>
{% endblock %}
